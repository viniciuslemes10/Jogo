<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="jogo_acerta.css">
    <title>Jogo acerte o alvo</title>
</head>
<body>
    <header>
        <h1>Jogo acerte o alvo</h1>
        <p>Um desafio para você acerte o alvo e ganhe o jogo:&#128512;</p>
    </header>

<canvas width="1000" height="800"></canvas>

<script>

    var tela = document.querySelector('canvas');
    var pincel = tela.getContext('2d');

    pincel.fillStyle = 'lightgray';
    pincel.fillRect(0, 0, 1000, 800);

    var raio = 10;
    var xAleatorio;
    var yAleatorio;

    function desenhaCirculo(x, y, raio, cor) {

        pincel.fillStyle = cor;
        pincel.beginPath();
        pincel.arc(x, y, raio, 0, 2 * Math.PI);
        pincel.fill();

    }

    function limpaTela() {

        pincel.clearRect(0, 0, 1000, 800);

    }

    function desenhaAlvo(x,y) {

        desenhaCirculo(x, y, raio+20, 'red');
        desenhaCirculo(x, y, raio+10, 'white');
        desenhaCirculo(x, y, raio, 'red');

    }

    function sorteiaPosicao(maximo) {

        return Math.floor(Math.random() * maximo);

    }

function atualizaTela() {
    limpaTela();
    xAleatorio = sorteiaPosicao(1000);
    yAleatorio = sorteiaPosicao(800);
    desenhaAlvo(xAleatorio, yAleatorio);
}

setInterval(atualizaTela, 1050);

function dispara(evento) {

    var x = evento.pageX - tela.offsetLeft;
    var y = evento.pageY - tela.offsetTop;

    if((x > xAleatorio - raio)
    && (x < xAleatorio + raio)
    && (y > yAleatorio - raio)
    && (y < yAleatorio + raio)) {

        alert('Parabéns você ganhou o jogo!');

    }
}
tela.onclick = dispara;

</script>

    <main>
        <p><a href="index.html" class="menu">CLIQUE AQUI PARA VOLTAR</a></p>
    </main>

    <footer>
        <img src="study.png" class="final">
        <p class="copyright">&copy; Jogos Diversão</p>  
    </footer>
</body>
</html>